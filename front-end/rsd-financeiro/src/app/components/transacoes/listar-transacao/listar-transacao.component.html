<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Transações</h1>
    <div class="btn-toolbar mb-2 mb-md-0">
        <div class="btn-group me-2">
            <a routerLink="nova-transacao" class="btn btn-sm btn-outline-primary">Nova Transação</a>
        </div>
        <div class="btn-group me-2">
            <button type="button" class="btn btn-sm btn-outline-primary" (click)="listarTodos(0, constants.MAX_GRID_RECORDS)"><i
                    class="bi-arrow-clockwise"></i></button>
        </div>
        <div class="btn-group me-2">
            <button type="button" class="btn btn-sm btn-outline-primary">Importar</button>
            <button type="button" class="btn btn-sm btn-outline-primary">Exportar</button>
        </div>
    </div>
</div>
<div class="table-responsive">
    <table class="table table-sm table-hover">
        <thead>
            <tr>
                <th scope="col" class="col-1">Data</th>
                <th scope="col" class="col">Transação/Evento</th>
                <th scope="col" class="col-2 text-end">Valor</th>
                <th scope="col" class="col-2 d-none d-sm-table-cell">Documento</th>
            </tr>
        </thead>
        <tbody class="text-primary">
            <ng-template ngFor let-transacao [ngForOf]="transacoes" let-i="index">
                <tr *ngFor='let evento of transacao.eventos'>
                    <td class="col-1">{{transacao.data | date: 'dd-MM-yyyy'}}</td>
                    <td class="col nowrap">{{transacao.codigo}}.{{evento.codigo}} -
                        {{transacaoService.buscarDescricaoPorCodigo(transacao.codigo).descricao}} -
                        {{eventosService.buscarDescricaoPorCodigo(evento.codigo).descricao}}</td>
                    <td class="col-2 text-end text-primary" *ngIf="evento.natureza == 'E'">
                        {{evento.valor!.valor | formatarNumero}} {{evento.valor!.moeda!}}</td>
                    <td class="col-2 text-end text-danger" *ngIf="evento.natureza == 'S'">
                        ({{evento.valor!.valor | formatarNumero}}) {{evento.valor!.moeda!}}</td>
                    <td class="col-2 d-none d-sm-table-cell">{{transacao.documento?.referencia}}</td>
                    <td class="col-1">
                        <button class="btn btn-sm btn-outline-primary no-border"><i class="bi-pencil"></i></button>
                        <button class="btn btn-sm btn-outline-danger no-border"><i class="bi-trash"></i></button>
                    </td>
                </tr>
            </ng-template>
        </tbody>
    </table>
    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-end">
            <li class="page-item">
                <a class="page-link" (click)="listarTodos(0, 6)" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            <li class="page-item" *ngFor="let item of paginas" (click)="listarTodos(item, constants.MAX_GRID_RECORDS)"><a class="page-link">{{item + 1}}</a></li>
            <li class="page-item">
                <a class="page-link" (click)="listarTodos(ultimaPagina, constants.MAX_GRID_RECORDS)" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        </ul>
    </nav>
</div>